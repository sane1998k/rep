let buttonReport=document.querySelector(".report"),buttonGraph=document.querySelector(".graph"),buttonContacts=document.querySelector(".contacts"),actionReport=document.querySelector(".action-report"),actionGraph=document.querySelector(".action-graph"),actionContacts=document.querySelector(".action-contacts");buttonReport.addEventListener("click",(function(t){buttonReport.classList.contains("on")?actionReport.style.display="block":(actionReport.style.display="block",buttonReport.classList.add("on"),buttonContacts.classList.remove("on"),buttonGraph.classList.remove("on"),actionGraph.style.display="none",actionContacts.style.display="none")})),buttonGraph.addEventListener("click",(function(t){doz1(),doz2(),doz3(),buttonGraph.classList.contains("on")?actionGraph.style.display="block":(buttonGraph.classList.add("on"),buttonReport.classList.remove("on"),buttonContacts.classList.remove("on"),actionGraph.style.display="block",actionReport.style.display="none",actionContacts.style.display="none")})),buttonContacts.addEventListener("click",(function(t){buttonContacts.classList.contains("on")?actionContacts.style.display="block":(buttonContacts.classList.add("on"),buttonGraph.classList.remove("on"),buttonReport.classList.remove("on"),actionContacts.style.display="block",actionReport.style.display="none",actionGraph.style.display="none")}));var tbody=$("<tbody />"),searchReport=$("#search-report");function zeroPadded(t){return t>=10?t:"0"+t}function update(){$("#DataTable").dataTable().fnClearTable();$("#DataTable").find("tbody");$.ajax({type:"POST",url:"./php/getBuild.php",dataType:"json",data:{dateTo:$("input[id=to]").val(),dateFrom:$("input[id=from]").val()},success:function(t){"ok"==t.status?""!=t.result&&$("#DataTable").dataTable().fnAddData(t.result):alert("Данные не найдены...")}})}function del(){for(var t=0;t<=400;t++){null!==(e=document.getElementById("DataTable"))&&e.parentNode.removeChild(e)}for(t=0;t<=400;t++){var e;null!==(e=document.getElementById("DataTable_wrapper"))&&e.parentNode.removeChild(e)}return!1}function drawTable(t){var e=$("<table/>");e.attr("id","DataTable"),e.addClass("dataTable");var a=$("<thead>"),o=$("<tr />");e.append(o),o.append($("<th>Д. Начала</th>")),o.append($("<th>Д. Окончания</th>")),o.append($("<th>Общее задание</th>")),o.append($("<th>Сумма доз. 1</th>")),o.append($("<th>Сумма доз. 2</th>")),o.append($("<th>Сумма доз. 3</th>")),o.append($("<th>Общая сумма</th>")),o.append($("<th>Итоговые суммы</th>")),a.append(o),e.append(a),e.append(tbody);var n=$("<tfoot />"),d=$("<tr />");d.append($("<th>Д. Начала</th>")),d.append($("<th>Д. Окончания</th>")),d.append($("<th>Общее задание</th>")),d.append($("<th>Сумма доз. 1</th>")),d.append($("<th>Сумма доз. 2</th>")),d.append($("<th>Сумма доз. 3</th>")),d.append($("<th>Общая сумма</th>")),d.append($("<th>Итоговые суммы</th>")),n.append(d),e.append(n);for(var s=0;s<t.length;s++)drawRow(t[s]);$(".action-report__table").append(e)}function drawRow(t){var e=$("<tr />");tbody.append(e),e.append($("<td>"+t[0]+"</td>")),e.append($("<td>"+t[1]+"</td>")),e.append($("<td>"+t[2]+"</td>")),e.append($("<td>"+t[3]+"</td>")),e.append($("<td>"+t[4]+"</td>")),e.append($("<td>"+t[5]+"</td>")),e.append($("<td>"+t[6]+"</td>")),e.append($("<td>"+t[7]+"</td>"))}function getBuild(){d=new Date;var t=d.getFullYear()+"-"+zeroPadded(d.getMonth())+"-"+zeroPadded(d.getDate())+"T00:00:00",e=d.getFullYear()+"-"+zeroPadded(d.getMonth()+1)+"-"+zeroPadded(d.getDate())+"T23:59:59";$.ajax({type:"POST",url:"./php/getBuild.php",dataType:"json",data:{dateTo:e,dateFrom:t},success:function(t){"ok"==t.status?(drawTable(t.result),t.result=""):alert("Данные не найдены...")}})}function tableSearch(){for(var t=document.getElementById("search-text"),e=document.getElementById("DataTable"),a=new RegExp(t.value,"i"),o=!1,n=1;n<e.rows.length;n++){o=!1;for(var d=e.rows[n].cells.length-1;d>=0&&!(o=a.test(e.rows[n].cells[d].innerHTML));d--);e.rows[n].style.display=o?"":"none"}}$(document).ready((function(){$("input[id=from]").val(d.getFullYear()+"-"+zeroPadded(d.getMonth())+"-"+zeroPadded(d.getDate())+"T00:00:00"),d=new Date;var t=d.getFullYear()+"-"+zeroPadded(d.getMonth()+1)+"-"+zeroPadded(d.getDate())+"T23:59:59";$("input[id=to]").val(t),$("#DataTable").DataTable({pageLength:10})})),getBuild(),searchReport.click((function(t){update()}));var seriesOptions=[];function doz1(){$.ajax({type:"POST",url:"./php/dos1.php",dataType:"json",data:{dateTo:$("input[id=to]").val(),dateFrom:$("input[id=from]").val()},success:function(t){if("ok"==t.status){var e;for(let a=0;a<t.result.length;a++)console.log(t.result[a][0]),e=new Date(t.result[a][0]),t.result[a][0]=e.getTime()-6e4*e.getTimezoneOffset();console.log(t.result[0][1]),seriesOptions[0]={name:"dsadasd",data:t.result}}else alert("Данные не найдены...")}})}function doz2(){$.ajax({type:"POST",url:"./php/dos2.php",dataType:"json",data:{dateTo:$("input[id=to]").val(),dateFrom:$("input[id=from]").val()},success:function(t){if("ok"==t.status){var e;for(let a=0;a<t.result.length;a++)console.log(t.result[a][0]),e=new Date(t.result[a][0]),t.result[a][0]=e.getTime()-6e4*e.getTimezoneOffset();console.log(t.result[0][1]),seriesOptions[1]={name:"aaaaa",data:t.result}}else alert("Данные не найдены...")}})}function doz3(){$.ajax({type:"POST",url:"./php/dos3.php",dataType:"json",data:{dateTo:$("input[id=to]").val(),dateFrom:$("input[id=from]").val()},success:function(t){if("ok"==t.status){var e;for(let a=0;a<t.result.length;a++)console.log(t.result[a][0]),e=new Date(t.result[a][0]),t.result[a][0]=e.getTime()-6e4*e.getTimezoneOffset();seriesOptions[2]={name:"bbbbbb",data:t.result},createChart()}else alert("Данные не найдены...")}})}$(document).ready((function(){}));seriesOptions=[];var seriesCounter=0,names=["MSFT","AAPL","GOOG"];function createChart(){Highcharts.stockChart("container",{rangeSelector:{selected:4},yAxis:{labels:{formatter:function(){return(this.value>0?" + ":"")+this.value+"%"}},plotLines:[{value:0,width:2,color:"silver"}]},plotOptions:{series:{compare:"percent",showInNavigator:!0}},tooltip:{pointFormat:'<span style="color:{series.color}">{series.name}</span>: <b>{point.y}</b> ({point.change}%)<br/>',valueDecimals:2,split:!0},series:seriesOptions})}